<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Optimise.js - ASO</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Automated static site builder that optimizes, minifies, and deploys HTML, CSS, and JS from a single src/index.html using esbuild, PurgeCSS, and GitHub Actions.">
  <meta name="keywords" content="site optimization, static site builder, esbuild, PurgeCSS, GitHub Actions, HTML, CSS, JS, minify, deploy">
  <meta name="author" content="TecnikOfficial">
  <meta property="og:title" content="Automated Site Optimisation">
  <meta property="og:description" content="Automated static site builder that optimizes, minifies, and deploys HTML, CSS, and JS easily.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://github.com/TecnikOfficial/Automated-Site-Optimisation">
  <meta property="og:image" content="https://em-content.zobj.net/source/microsoft-teams/337/rocket_1f680.png">

  <!--
    NOTE: The following security headers CANNOT be set via HTML or meta tags on GitHub Pages.
    If you need Strict-Transport-Security (HSTS), X-Frame-Options, or proper CSP/COOP headers,
    use a CDN like Cloudflare or move to a host where you control HTTP headers.
    Example for HSTS:
      Strict-Transport-Security: max-age=63072000; includeSubDomains; preload
    Example for X-Frame-Options:
      X-Frame-Options: DENY
    Example for COOP:
      Cross-Origin-Opener-Policy: same-origin
    Example for CSP frame-ancestors:
      Content-Security-Policy: frame-ancestors 'none';
    These must be set as HTTP headers, not meta tags.
  -->

  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https://em-content.zobj.net; font-src 'self'; connect-src 'self'; object-src 'none';">
  <link rel="icon" href="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text x='50%' y='50%' text-anchor='middle' dominant-baseline='central' font-size='90'>🚀</text></svg>">
  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: #f7fafc;
      margin: 0;
      padding: 0;
      color: #222;
    }
    header {
      background: #0057b8;
      color: #fff;
      padding: 2rem 1rem 1rem 1rem;
      text-align: center;
    }
    h1 {
      margin: 0 0 0.5rem 0;
      font-size: 2.4rem;
    }
    .steps {
      max-width: 600px;
      margin: 2rem auto;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
      padding: 2rem;
    }
    .step {
      display: flex;
      align-items: flex-start;
    }
    .step:not(:last-child) {
      margin-bottom: 1.5rem;
    }
    .emoji {
      font-size: 1.6rem;
      margin-right: 0.75rem;
      line-height: 1.6;
    }
    .note {
      background: #eaf6ff;
      color: #0057b8;
      border-left: 4px solid #0057b8;
      padding: 1rem;
      margin: 2rem 0 0 0;
      border-radius: 4px;
    }
    .credits {
      max-width: 600px;
      margin: 2rem auto 2rem auto;
      background: #f0f3f7;
      border-radius: 8px;
      padding: 1.2rem 2rem;
      font-size: 1rem;
      color: #333;
      border-left: 4px solid #0057b8;
    }
    .credits ul {
      padding-left: 1.2em;
      margin: 0.6em 0 0 0;
    }
    .credits li {
      margin-bottom: 0.3em;
    }
    footer {
    text-align: center;
    padding: 0.5rem 1rem 1rem; /* Reduced top padding to 0.5rem */
    color: #000;
    background: #f0f3f7;
    font-size: 1.0rem;
    border-top: 1px solid #e1e1e1;
  	}
    .donate-btn {
	display: inline-block;
	margin: 0.5em 0;
	padding: 0.25em 1.2em;         /* Less vertical padding */
	background: #2a7e32;
	color: #fff;
	border-radius: 8px;            /* Rounded rectangle, not pill */
	text-decoration: none;
	font-weight: bold;
	font-size: 1.05rem;            /* Slightly smaller font for a sleeker look */
	letter-spacing: 0.5px;
	box-shadow: 0 2px 6px rgba(33, 150, 83, 0.12);
	border: none;
	transition: transform 0.18s cubic-bezier(.22,1,.36,1), box-shadow 0.18s, outline 0.18s;
}
	  .donate-btn:focus,
	  .donate-btn:hover {
  	transform: scale(1.05);
	  box-shadow: 0 4px 20px rgba(33, 150, 83, 0.23);
  	outline: 2px solid #00b300;
	  background: #136c2c;
  	color: #fff;
	  }
    @media (max-width: 600px) {
      .steps, .credits { padding: 1rem; }
      h1 { font-size: 1.5rem; }
    }
  </style>
</head>
<body>
  <header>
    <h1>🚀 optimise.js - ASO</h1>
    <p>
      Test how <strong>optimise.js</strong> makes your site faster and more efficient. Watch Full Tutorial <a href="https://youtube.com/TecnikOfficial" target="_blank" rel="noopener" title="youtube" alt="youtube" style="text-decoration:none;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="red" d="M19.67 8.14a2 2 0 0 0-1.42-1.43A48.44 48.44 0 0 0 12 6.38a48.44 48.44 0 0 0-6.25.33a2 2 0 0 0-1.42 1.43A21.27 21.27 0 0 0 4 12a21.42 21.42 0 0 0 .33 3.88a2 2 0 0 0 1.42 1.4a48.44 48.44 0 0 0 6.25.33a48.44 48.44 0 0 0 6.25-.33a2 2 0 0 0 1.42-1.4A21.42 21.42 0 0 0 20 12a21.27 21.27 0 0 0-.33-3.86Zm-9.31 6.25V9.63L14.55 12l-4.19 2.38Z"/></svg></a>
    </p>
  </header>
  <section class="steps">
    <div class="step"><span class="emoji">📝</span> <b>Reads the Source HTML</b>: Looks for your CSS and JavaScript in src/index.html.</div>
    <div class="step"><span class="emoji">🎨</span> <b>Extracts & Processes CSS</b>: Removes unused CSS, adds prefixes, and minifies.</div>
    <div class="step"><span class="emoji">⚡</span> <b>Processes JavaScript</b>: Bundles and minifies your JS code. Removes dead code.</div>
    <div class="step"><span class="emoji">🏗️</span> <b>Updates the HTML</b>: Inserts references to minified files.</div>
    <div class="step"><span class="emoji">🧼</span> <b>Minifies the HTML</b>: Compresses the HTML for faster loading.</div>
    <div class="step"><span class="emoji">📦</span> <b>Final Output</b>: All files are ready for production!</div>
    <div class="note">
      ⚠️ <b>Note:</b> All HTML, CSS, and JS must be inline in <code>src/index.html</code> for <b>optimise.js</b> to process them.<br>
      <b>(Optional)</b> Attach functions to the <code>window</code> object in JS code to prevent them from being mistakenly removed by tree shaking process.
    </div>
  </section>
  <section class="steps" style="margin-top:1rem;">
    <div class="step"><span class="emoji">🛠️</span>
      <span>
        <b>Easy editing:</b> Edit <code>src/index.html</code> in a human-readable format.<br>
        <b>Automatic deployment:</b> Your code is optimised, minified, and deployed automatically on every push using <code>deploy.yml</code>
      </span>
    </div>
    <div class="step"><span class="emoji">🔒</span>
      <span>
        <b>Automatic dependency updates:</b> Dependabot keeps your site secure and up-to-date—just merge its PRs!
      </span>
    </div>
	  <div class="step"><span class="emoji">🗓️</span>
      <span>
        <b>Upcoming changes:</b> Ability to auto minify images in <code>assets</code> folder.
      </span>
    </div>
  </section>
  <section class="credits">
    <b>🙏 Credits / Dependencies Used</b><br>
    Powered by:
    <ul>
      <li><a href="https://www.npmjs.com/package/esbuild" target="_blank">esbuild</a> — Bundles and minifies JS &amp; CSS</li>
      <li><a href="https://www.npmjs.com/package/@fullhuman/postcss-purgecss" target="_blank">@fullhuman/postcss-purgecss</a> — Removes unused CSS</li>
      <li><a href="https://www.npmjs.com/package/autoprefixer" target="_blank">autoprefixer</a> — Adds CSS prefixes</li>   
      <li><a href="https://www.npmjs.com/package/html-minifier-terser" target="_blank">html-minifier-terser</a> — Minifies HTML</li>
      <li><a href="https://nodejs.org/" target="_blank">Node.js</a> — JavaScript runtime</li>
      <li><a href="https://github.com/features/actions" target="_blank">GitHub Actions</a> — Workflow automation</li>
    </ul>
  </section>
  <footer>
  <a href="https://github.com/TecnikOfficial/Automated-Site-Optimisation" target="_blank" rel="noopener" title="github" alt="github" style="text-decoration:none;">
    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24" style="vertical-align:middle;">
      <path fill="#000" d="M12 2.247a10 10 0 0 0-3.162 19.487c.5.088.687-.212.687-.475c0-.237-.012-1.025-.012-1.862c-2.513.462-3.163-.613-3.363-1.175a3.636 3.636 0 0 0-1.025-1.413c-.35-.187-.85-.65-.013-.662a2.001 2.001 0 0 1 1.538 1.025a2.137 2.137 0 0 0 2.912.825a2.104 2.104 0 0 1 .638-1.338c-2.225-.25-4.55-1.112-4.55-4.937a3.892 3.892 0 0 1 1.025-2.688a3.594 3.594 0 0 1 .1-2.65s.837-.262 2.75 1.025a9.427 9.427 0 0 1 5 0c1.912-1.3 2.75-1.025 2.75-1.025a3.593 3.593 0 0 1 .1 2.65a3.869 3.869 0 0 1 1.025 2.688c0 3.837-2.338 4.687-4.563 4.937a2.368 2.368 0 0 1 .675 1.85c0 1.338-.012 2.413-.012 2.75c0 .263.187.575.687.475A10.005 10.005 0 0 0 12 2.247Z"/>
    </svg>
  </a>
  Support the Project:
  <a class="donate-btn" href="https://coindrop.to/tecnik" target="_blank" rel="noopener">Donate</a>
</footer>
  <script>
    // Demo: Show a message when page is loaded and test JS minification
    document.addEventListener('DOMContentLoaded', function() {
      let isMinified = true;
      // Check for inline <style> or <script> (excluding this script itself)
      const inlineScript = Array.from(document.querySelectorAll('script'))
        .some(s => !s.src && !s.textContent.includes('optimise.js is working!'));
      const inlineStyle = document.querySelector('style') !== null;
      // Check if linked CSS and JS are minified
      const cssMin = Array.from(document.querySelectorAll('link[rel="stylesheet"]'))
        .some(link => /\.min\.css(\?|#|$)/.test(link.href));
      const jsMin = Array.from(document.querySelectorAll('script[src]'))
        .some(s => /\.min\.js(\?|#|$)/.test(s.src));
      // True if no inline script/style and both .min.js and .min.css are used
      if (inlineScript || inlineStyle || !cssMin || !jsMin) isMinified = false;
      const footer = document.querySelector('footer');
      footer.insertAdjacentHTML(
        'beforeend',
        `<br><span style="color:${isMinified ? '#0057b8' : '#d32f2f'}">${isMinified ? '🟢 optimise.js is working!' : '🔴 optimise.js is not working!'}</span>`
      );
    });
  </script>
</body>
</html>

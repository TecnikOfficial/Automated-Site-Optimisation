<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>🚀optimise.js Test Site</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Automated static site builder that optimizes, minifies, and deploys HTML, CSS, and JS from a single src/index.html using esbuild, PurgeCSS, and GitHub Actions.">
  <meta name="keywords" content="site optimization, static site builder, esbuild, PurgeCSS, GitHub Actions, HTML, CSS, JS, minify, deploy">
  <meta name="author" content="TecnikOfficial">
  <meta property="og:title" content="Automated Site Optimisation">
  <meta property="og:description" content="Automated static site builder that optimizes, minifies, and deploys HTML, CSS, and JS easily.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://github.com/TecnikOfficial/Automated-Site-Optimisation">
  <meta property="og:image" content="https://em-content.zobj.net/source/microsoft-teams/337/rocket_1f680.png">
  <meta http-equiv="Content-Security-Policy" content="
  default-src 'self';
  script-src 'self' 'unsafe-inline';
  style-src 'self' 'unsafe-inline';
  img-src 'self' data: https://em-content.zobj.net;
  font-src 'self';
  connect-src 'self';
  object-src 'none';
  frame-ancestors 'none';
">
  <meta http-equiv="Cross-Origin-Opener-Policy" content="same-origin">
  <link rel="icon" href="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text x='50%' y='50%' text-anchor='middle' dominant-baseline='central' font-size='90'>🚀</text></svg>">
  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: #f7fafc;
      margin: 0;
      padding: 0;
      color: #222;
    }
    header {
      background: #0057b8;
      color: #fff;
      padding: 2rem 1rem 1rem 1rem;
      text-align: center;
    }
    h1 {
      margin: 0 0 0.5rem 0;
      font-size: 2.2rem;
    }
    .steps {
      max-width: 600px;
      margin: 2rem auto;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
      padding: 2rem;
    }
    .step {
      display: flex;
      align-items: flex-start;
    }
    .step:not(:last-child) {
      margin-bottom: 1.5rem;
    }
    .emoji {
      font-size: 1.6rem;
      margin-right: 0.75rem;
      line-height: 1.6;
    }
    .note {
      background: #eaf6ff;
      color: #0057b8;
      border-left: 4px solid #0057b8;
      padding: 1rem;
      margin: 2rem 0 0 0;
      border-radius: 4px;
    }
    .credits {
      max-width: 600px;
      margin: 2rem auto 2rem auto;
      background: #f0f3f7;
      border-radius: 8px;
      padding: 1.2rem 2rem;
      font-size: 1rem;
      color: #333;
      border-left: 4px solid #0057b8;
    }
    .credits ul {
      padding-left: 1.2em;
      margin: 0.6em 0 0 0;
    }
    .credits li {
      margin-bottom: 0.3em;
    }
    footer {
      text-align: center;
      padding: 1.5rem 1rem;
      color: #000;
      background: #f0f3f7;
      font-size: 0.9rem;
      border-top: 1px solid #e1e1e1;
    }
    .donate-btn {
      display: inline-block;
      margin: 0.5em 0;
      padding: 0.5em 1.5em;
      background: #219653;
      color: #fff;
      border-radius: 30px;
      text-decoration: none;
      font-weight: bold;
      transition: background .2s;
    }
    .donate-btn:hover {
      background: #2ecc71;
    }
    @media (max-width: 600px) {
      .steps, .credits { padding: 1rem; }
    }
  </style>
</head>
<body>
  <header>
    <h1>🚀 optimise.js Test Site</h1>
    <p>
      Test how <strong>optimise.js</strong> makes your site faster and more efficient.
    </p>
  </header>
  <section class="steps">
    <div class="step"><span class="emoji">📝</span> <b>Reads the Source HTML</b>: Looks for your CSS and JavaScript in src/index.html.</div>
    <div class="step"><span class="emoji">🎨</span> <b>Extracts & Processes CSS</b>: Removes unused CSS, adds prefixes, and minifies.</div>
    <div class="step"><span class="emoji">⚡</span> <b>Processes JavaScript</b>: Bundles and minifies your JS code. Removes dead code.</div>
    <div class="step"><span class="emoji">🏗️</span> <b>Updates the HTML</b>: Inserts references to minified files.</div>
    <div class="step"><span class="emoji">🧼</span> <b>Minifies the HTML</b>: Compresses the HTML for faster loading.</div>
    <div class="step"><span class="emoji">📦</span> <b>Final Output</b>: All files are ready for production!</div>
    <div class="note">
      ⚠️ <b>Note:</b> All HTML, CSS, and JS must be inline in <code>src/index.html</code> for <b>optimise.js</b> to process them.
    </div>
  </section>
  <section class="steps" style="margin-top:1rem;">
    <div class="step"><span class="emoji">🛠️</span>
      <span>
        <b>Easy editing:</b> Edit <code>src/index.html</code> in a human-readable format.<br>
        <b>Automatic deployment:</b> Your code is optimised, minified, and deployed automatically on every push!
      </span>
    </div>
    <div class="step"><span class="emoji">🔒</span>
      <span>
        <b>Automatic dependency updates:</b> Dependabot keeps your site secure and up-to-date—just merge its PRs!
      </span>
    </div>
  </section>
  <section class="credits">
    <b>🙏 Credits / Dependencies Used</b><br>
    Powered by:
    <ul>
      <li><a href="https://www.npmjs.com/package/esbuild" target="_blank">esbuild</a> — Bundles and minifies JS &amp; CSS</li>
      <li><a href="https://www.npmjs.com/package/@fullhuman/postcss-purgecss" target="_blank">@fullhuman/postcss-purgecss</a> — Removes unused CSS</li>
      <li><a href="https://www.npmjs.com/package/autoprefixer" target="_blank">autoprefixer</a> — Adds CSS prefixes</li>   
      <li><a href="https://www.npmjs.com/package/html-minifier-terser" target="_blank">html-minifier-terser</a> — Minifies HTML</li>
      <li><a href="https://nodejs.org/" target="_blank">Node.js</a> — JavaScript runtime</li>
      <li><a href="https://github.com/features/actions" target="_blank">GitHub Actions</a> — Workflow automation</li>
    </ul>
  </section>
  <footer>
    💖 Support the Project:
    <a class="donate-btn" href="https://coindrop.to/tecnik" target="_blank">Donate</a>
  </footer>
  <script>
    // Demo: Show a message when page is loaded and test JS minification
document.addEventListener('DOMContentLoaded', function() {
  let isMinified = true;

  // Check for inline <style> or <script> (excluding this script itself)
  const inlineScript = Array.from(document.querySelectorAll('script'))
    .some(s => !s.src && !s.textContent.includes('optimise.js is working!'));
  const inlineStyle = document.querySelector('style') !== null;

  // Check if linked CSS and JS are minified
  const cssMin = Array.from(document.querySelectorAll('link[rel="stylesheet"]'))
    .some(link => /\.min\.css(\?|#|$)/.test(link.href));
  const jsMin = Array.from(document.querySelectorAll('script[src]'))
    .some(s => /\.min\.js(\?|#|$)/.test(s.src));

  // True if no inline script/style and both .min.js and .min.css are used
  if (inlineScript || inlineStyle || !cssMin || !jsMin) isMinified = false;

  const footer = document.querySelector('footer');
  footer.insertAdjacentHTML(
    'beforeend',
    `<br><span style="color:${isMinified ? '#0057b8' : '#d32f2f'}">${isMinified ? '🟢 optimise.js is working!' : '🔴 optimise.js is not working!'}</span>`
  );
});
  </script>
</body>
</html>
